<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
    <script src="funcional.js" defer></script>
    <link rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="bootstrap.min.css" />
  </head>

  <body>
    <div class="card col-md-4 mt-4 text-left mx-auto bg-white shadow">
      <img
        src="Logo-Rentel-grande.jpg"
        class="img-fluid"
        alt="Responsive image"
      />
      <div class="card-body">
        <div>
          <h2>¿Qué producto desea contratar?</h2>
          <form action="#">
            <!-- input opción telefono fijo-->
            <input
              class="form-check-input"
              type="radio"
              name="producto"
              id="telefono_fijo"
              value="telefono_fijo"
              onclick="mostrarFijo()"
              required
            />
            <label class="form-check-label" for="telefono_fijo">
              Telefonía fija </label
            ><br />

            <!-- input opción móvil-->
            <input
              class="form-check-input"
              type="radio"
              name="producto"
              id="internet"
              value="fibra"
              required
            />
            <label class="form-check-label" for="internet">Internet</label
            ><br />

            <!-- input opción móvil-->
            <input
              class="form-check-input"
              type="radio"
              name="producto"
              id="movil"
              value="movil"
              onclick="mostrarMovil()"
              required
            />
            <label class="form-check-label" for="movil"> Móvil </label><br />

            <!-- input opción otros-->

            <input
              class="form-check-input"
              type="radio"
              name="producto"
              id="otros"
              value="otros"
              onclick="mostrarAsistencia()"
            />
            <label class="form-check-label mb-2" for="otros">Otros</label>
          </form>
        </div>

        <!--Formulario para la contratación de línea fija-->
        <div id="opciones_fijo" style="display: none">
          <form
            action=""
            class="mi-formulario"
            id="form_fijo"
            data-tipo="fijo"
            enctype="multipart/form-data"
          >
            <div>
              <h4>Servicio contratado</h4>
              <input
                class="form-check-input"
                type="radio"
                name="servicio"
                id="alta_fijo"
                value="alta_fijo"
                onclick="tarifasFijo('tarifa_linea_fija');"
                required
              />
              <label class="form-check-label" for="alta_fijo">Alta nueva</label
              ><br />

              <input
                class="form-check-input"
                type="radio"
                name="servicio"
                id="portabilidad_fijo"
                value="portabilidad_fijo"
                required="required"
              />
              <label class="form-check-label" for="portabilidad_fijo">
                Portabilidad </label
              ><br />

              <input
                class="form-check-input"
                type="radio"
                name="servicio"
                id="cambio_titular_fijo"
                value="cambio_titular_fijo"
                required
              />
              <label class="form-check-label mb-2" for="cambio_titular_fijo">
                Cambio de titular </label
              ><br />
            </div>

            <div id="datos_fijo"></div>
          </form>
        </div>

        <!--Formulario para la contratación de fibra óptica-->
        <div id="opcionesInternet" style="display: none">
          <form
            action=""
            class="mi-formulario"
            id="form_fibra"
            data-tipo="internet"
            enctype="multipart/form-data"
          >
            <h3>Elige el producto</h3>
            <div id="productos_internet"></div>
            <div id="precio" class="precio"></div>

            <div>
              <h4 class="mt-3">Tipo de servicio</h4>
              <input
                type="radio"
                name="tipo_servicio"
                id="fibra"
                class="form-check-input"
                value="fibra"
              />
              <label for="fibra" class="form-check-label mb-2">Wifi</label>
              <input
                type="radio"
                name="tipo_servicio"
                id="wifi"
                class="form-check-input"
                value="wifi"
              />
              <label for="wifi" class="form-check-label mb-2">Fibra</label>
            </div>

            <div>
              <h4 class="mt-3">Dirección de la instalación</h4>
              <input
                type="text"
                name="direccion_instalacion"
                id="dir_instalacion"
                placeholder="Dirección de instalación"
                class="form-control"
              />
            </div>

            <div>
              <h4 class="mt-3">¿Desea aceptar permanencia?</h4>

              <label class="form-check-label mb-2" for="permasi">
                <input
                  class="form-check-input"
                  type="radio"
                  name="permanencia"
                  id="permasi"
                  value="si"
                />
                Sí. La duración de la permanencia será de 18 meses y el montaje
                de los equipos y la fibra no tendrá ningún coste adicional.
              </label>

              <label class="form-check-label" for="permano">
                <input
                  class="form-check-input"
                  type="radio"
                  name="permanencia"
                  id="permano"
                  value="no"
                />
                No. En caso de no aceptar la permanencia, el coste del montaje
                de los equipos y la fibra serán: 120€
              </label>
            </div>
          </form>
        </div>

        <!-- Formulario para la contratación de línea movil -->
        <div id="opcionesMovil" style="display: none">
          <form action="#" data-tipo="movil" enctype="multipart/form-data">
            <div>
              <h4>Servicio contratado</h4>
              <input
                class="form-check-input"
                type="radio"
                name="servicio"
                id="altaNueva"
                value="alta"
                onclick="generarCamposTarifaAlta()"
              />
              <label class="form-check-label" for="altaNueva">Alta nueva</label
              ><br />

              <input
                class="form-check-input"
                type="radio"
                name="servicio"
                value="portabilidad"
                id="portabilidad"
              />
              <label class="form-check-label" for="portabilidad">
                Portabilidad </label
              ><br />

              <input
                class="form-check-input"
                type="radio"
                name="servicio"
                id="cambio_titular_mov"
                value="cambioTitular"
              />
              <label class="form-check-label mb-2" for="cambioTitular">
                Cambio de titular </label
              ><br />
            </div>

            <!-- Formulario para dar de alta una nueva linea movil-->
            <div id="nuevoMovil" style="display: none">
              <div id="fotoSIM">
                <h4>Número de SIM</h4>
                <input
                  class="form-control mb-4"
                  type="number"
                  id="num_sim"
                  placeholder="Número de la SIM de rentel"
                />
                <label class="btn btn-primary btn-sm mb-3" for="nSIM"
                  >Subir imagen</label
                >
                <label class="form-label mb-2" style="font-size: large"
                  >Seleciona la foto de la SIM
                </label>
                <input type="file" id="nSIM" name="nSIM" hidden />
                <div id="tipo_tarifa_individual"></div>
              </div>

              <div id="alta_nueva">
                <select
                  class="form-select"
                  title="tarifa"
                  name="tarifa"
                ></select>
              </div>
            </div>

            <!--formulario para crear una portabilidad de linea movil -->
            <div id="generar_portabilidad" style="display: none">
              <div>
                <h4>Número al que se le hace la portabilidad</h4>
                <input
                  class="form-control mb-2"
                  type="tel"
                  name="numPortar"
                  id="numPortado"
                  placeholder="Nº móvil"
                />
              </div>

              <div>
                <h4>¿Qué tienes acutalmente?</h4>
                <input
                  class="form-check-input"
                  type="radio"
                  name="modalidad"
                  id="contrato"
                  value="contrato"
                />
                <label class="form-check-label" for="contrato">Contrato</label>

                <input
                  class="form-check-input"
                  type="radio"
                  name="modalidad"
                  id="prepago"
                  value="prepago"
                />
                <label class="form-check-label mb-3" for="prepago"
                  >Prepago</label
                >
              </div>

              <div>
                <h4>Nº de SIM actual</h4>
                <label class="btn btn-primary btn-sm mb-3" for="nSim"
                  >Foto de la SIM</label
                >
                <input type="file" name="nSim" id="nSim" hidden />
              </div>

              <div>
                <h4>Compañia actual para hacer la portabilidad</h4>
                <input
                  class="form-control mb-2"
                  type=" text"
                  name="compañia"
                  id="companyia"
                  placeholder="Compañía actual"
                />
              </div>

              <div>
                <h4>¿La portabilidad se hará sobre el mismo titular?</h4>
                <input
                  class="form-check-input"
                  type="radio"
                  name="mismo_titular"
                  id="mismo_titular"
                  value="si"
                  onclick="generarCamposTarifaPortabilidad()"
                />
                <label class="form-check-label" for="mismo_titular"
                  >Si, el mismo titular de la línea.</label
                ><br />

                <input
                  class="form-check-input mb-3"
                  type="radio"
                  name="mismo_titular"
                  id="otro_titular"
                  value="no"
                  onclick="genererDatosAntiguoCliente()"
                />
                <label class="form-check-label" for="otro_titular"
                  >No, será un nuevo titular.</label
                >
              </div>

              <div id="antiguo_titular"></div>

              <div id="tipo_tarifa"></div>

              <div id="tarifasPortabilidad">
                <select
                  class="form-select"
                  title="tarifa"
                  name="tarifa"
                ></select>
              </div>
            </div>

            <div id="cambio_titular_movil"></div>
          </form>
        </div>

        <!-- Formulario para otros productos -->
        <div id="otros_productos" style="display: none">
          <form action="" data-tipo="otros" >
            <h4>Otros productos</h4>
            <input
              type="radio"
              class="form-check-input"
              name="otros_productos"
              id="ip_fija"
            />
            <label for="ip_fija" class="form-check-label">IP fija</label
            ><br />

            <input
              type="radio"
              class="form-check-input"
              name="otros_productos"
              id="ZAPI"
            />
            <label for="ZAPI" class="form-check-label">ZAPI</label><br />

            <input
              type="radio"
              class="form-check-input"
              name="otros_productos"
              id="teleasistencia"
            />
            <label for="teleasistencia" class="form-check-label"
              >Teleasistencia</label
            ><br />
          </form>
        </div>
      </div>
      <br />

      <button class="btn btn-primary btn-sm mb-2" type="button" id="abrirModal">
        Contratar nuevo producto o terminar.
      </button>

      <div class="modal" id="myModal">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">¿Qué desea hacer?</h5>
              <button
                id="cerrarModal"
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true"></span>
              </button>
            </div>
            <div class="modal-footer">
              <button
                type="submit"
                class="btn btn-primary"
                id="contratarProducto"
                onclick="createJson()"
              >
                Contratar un nuevo producto
              </button>
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
                id="irAPago"
                onclick="createJson()"
              >
                Terminar y firmar
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="eventos.js"></script>
    <script src="fijo.js"></script>
    <script src="fibra.js"></script>
    <script src="movil.js"></script>
    <script src="tarifas.js"></script>
    <script src="modal.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        document
          .getElementById("contratarProducto")
          .addEventListener("click", function () {
            // Redirige al usuario al formulario de fibra existente
            window.location.href = "/productos.html";
          });

        document
          .getElementById("irAPago")
          .addEventListener("click", function () {
            // Redirige al usuario al formulario de fibra existente
            window.location.href = "/pagos.html";
          });
      });
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
