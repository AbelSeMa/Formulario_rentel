<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="bootstrap.min.css" />
  </head>
  <body>
    <div class="card col-md-6 text-left mx-auto bg-white shadow">
      <div class="card-body">
        <div class="col-md-7 mx-auto">
          <img
            src="Logo-Rentel-grande.jpg"
            class="img-fluid"
            alt="Responsive image"
          />
        </div>

        <div id="pintar_tablas">
          <table id="tabla_cliente" class="table table-striped">
            <tr>
              <th scope="col">Nombre</th>
              <th scope="col">Apellidos</th>
              <th scope="col">DNI</th>
              <th scope="col">Dirección</th>
            </tr>
          </table>
          <br />
          <div class="row">
            <div class="col-sm-4 d-inline">
              <select id="productSelect" class="form-select mb-3" title="seleccion_producto"></select>
            </div>
          </div>
          <div class="table-responsive-sm">
            <table id="tabla_productos" class="table" >
              <tr id="titulos_columnas">
                <th scope="col">Servicios</th>
                <th scope="col" colspan="2"></th>
              </tr>
            </table>
            <button type="button" onclick="obtenerJson()">JSON</button>
          </div>

          <div id="modalTablas" class="modal">
            <div class="modal-dialog">

              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="titulo_modal"></h5>
                  <button type="button" title="cerrar" class="close btn-close"></button>
                </div>
                <form action="#" id="form_product" class="">
                  <input type="text" name="producto" id="productoModal" hidden />
                  <div id="contenedor"  >

                  </div>
                  <div class="text-center">
                    <button type="button" class="btn btn-primary btn-sm mb-3" onclick="enviarProducto()" class="mb-3">
                      Guardar Producto
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>

          <br />
          <table>
            <tr></tr>
          </table>
        </div>
      </div>
    </div>




    <script>
      // Obtén el modal
      var modal = document.getElementById("modalTablas");
      // Obtén el select
      var select = document.getElementById("productSelect");
      // Cuando el usuario selecciona un producto, abre el modal
      select.onchange = function () {
        let info = document.getElementById("productSelect").value;
        switch (info) {
          case "Telefonía fija":
            document.getElementById("productoModal").value = info;
            limpiarContenedor();
            opcionesFijo();
            modal.style.display = "block";
            break;

          case "Internet":
            document.getElementById("productoModal").value = info;
            limpiarContenedor();
            opcionesInternet();
            modal.style.display = "block";
            break;

          case "Movil":
            document.getElementById("productoModal").value = info;
            limpiarContenedor();
            opcionesMovil();
            modal.style.display = "block";
            break;

          case "Otros":
            document.getElementById("productoModal").value = info;
            limpiarContenedor();
            opcionesOtros();
            modal.style.display = "block";
            break;

          case "Elija producto":
            limpiarContenedor();
            break;
        }
      };

      // Obtén el elemento <span> que cierra el modal
      var span = document.getElementsByClassName("close")[0];

      // Cuando el usuario hace clic en <span> (x), cierra el modal
      span.onclick = function () {
        modal.style.display = "none";
      };

      // Cuando el usuario hace clic en cualquier lugar fuera del modal, cierra el modal
      window.onclick = function (event) {
        if (event.target == modal) {
          limpiarContenedor();
          modal.style.display = "none";
        }
      };
    </script>
    <script src="funcional.js"></script>
    <script src="fijo.js"></script>
    <script src="internet.js"></script>
    <script src="movil.js"></script>
    <script src="otros.js"></script>
    <script src="tablas.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
