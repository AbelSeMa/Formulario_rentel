<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="bootstrap.min.css" />
  </head>
  <body>
    <div class="card col-md-6 text-left mx-auto bg-white shadow">
      <div class="card-body">
        <div class="col-md-7 mx-auto">
          <img
            src="Logo-Rentel-grande.jpg"
            class="img-fluid"
            alt="Responsive image"
          />
        </div>

        <div id="pintar_tablas">
          <div class="col-sm-4 d-inline">
            <table id="tabla_cliente" class="table table-striped">
              <tr>
                <th scope="col">Nombre</th>
                <th scope="col">Apellidos</th>
                <th scope="col">DNI</th>
              </tr>
            </table>
            <br />
            <div class="row">
              <div class="col-sm-4 d-inline">
                <select
                  id="productSelect"
                  class="form-select mb-3"
                  title="seleccion_producto"
                ></select>
              </div>
            </div>
          </div>
          <div class="table-responsive-sm">
            <table id="tabla_productos" class="table" style="font-size: 15px">
              <tr id="titulos_columnas">
                <th scope="col">Servicios</th>
                <th scope="col" colspan="2"></th>
              </tr>
            </table>

            <button type="button" onclick="obtenerJson()">JSON</button>
            <button type="button" id="botonPagos" class="btn btn-primary btn-sm">Contratar</button>
          </div>

          <div id="modalTablas" class="modal">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="titulo_modal"></h5>
                  <button
                    type="button"
                    title="cerrar"
                    class="close btn-close"
                  ></button>
                </div>
                <form action="#" id="form_product" class="">
                  <input
                    type="text"
                    name="producto"
                    id="productoModal"
                    hidden
                  />
                  <div id="contenedor"></div>
                  <div class="text-center">
                    <button
                      type="button"
                      class="btn btn-primary btn-sm mb-3"
                      onclick="enviarProducto()"
                      class="mb-3"
                    >
                      Guardar Producto
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>

          <div id="modalPagos" class="modal">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="titulo_modal">Forma de pago</h5>
                  <button
                    type="button"
                    title="cerrar"
                    class="close btn-close"
                    id="cerrarPagos"
                  ></button>
                </div>
                <p class="form-check-label mb-3">
                  ¿Elija que método de pago desea usar?
                </p>
                <input
                  class="form-check-input"
                  type="radio"
                  name="formaPago"
                  value="efectivo"
                  id="efectivo"
                  onclick="mostrarIban()"
                  required
                />
                <label class="form-check-label" for="efectivo">efectivo</label>
                <br />

                <input
                  class="form-check-input"
                  type="radio"
                  name="formaPago"
                  value="Transferencia_bancaria"
                  id="Transferencia"
                  onclick="mostrarIban()"
                />
                <label class="form-check-label" for="Transferencia"
                  >Transferencia bancaria</label
                >
                <br />

                <input
                  class="form-check-input"
                  type="radio"
                  value="TPV"
                  name="formaPago"
                  id="tpv"
                  onclick="mostrarIban()"
                />
                <label class="form-check-label" for="tpv">TPV</label> <br />

                <input
                  class="form-check-input"
                  type="radio"
                  name="formaPago"
                  value="Iban"
                  id="domiciliacionBancaria"
                  onclick="mostrarIban()"
                />
                <label class="form-check-label" for="domiciliacionBancaria"
                  >domiciliacion Bancaria</label
                >
                <br />
                <br />
                <div id="contenedorIban" class="" style="display: none">
                  <input
                    class="form-control"
                    type="text"
                    minlength="4"
                    maxlength="4"
                    name="primero"
                    id="primero"
                    placeholder="ES00"
                  />
                  <input
                    class="form-control"
                    type="text"
                    minlength="4"
                    maxlength="4"
                    name="entidad"
                    id="segundo"
                    placeholder="Entidad"
                  />
                  <input
                    class="form-control"
                    type="text"
                    minlength="4"
                    maxlength="4"
                    name="sucursal"
                    id="tercero"
                    placeholder="Sucursal"
                  />
                  <input
                    class="form-control"
                    type="text"
                    minlength="2"
                    maxlength="2"
                    name="dc"
                    id="cuarto"
                    placeholder="DC"
                  />
                  <input
                    class="form-control"
                    type="text"
                    minlength="10"
                    maxlength="10"
                    name="nCuenta"
                    id="quinto"
                    placeholder="Numero de cuenta"
                  />
                </div>
                <input type="text" id="ibanOculto" hidden />
<<<<<<< HEAD
=======

                <br />

>>>>>>> 5c802e03e94193d064c4c3956482ebc95c490275
                <div>
                  <button type="button" onclick="firmar()">Firmar</button>
                </div>
              </div>
            </div>
          </div>

          <br />
          <table>
            <tr></tr>
          </table>
        </div>
      </div>
    </div>

    <script>
      // Obtén el modal
      var modal = document.getElementById("modalTablas");
      // Obtén el select
      var select = document.getElementById("productSelect");
      // Cuando el usuario selecciona un producto, abre el modal
      select.onchange = function () {
        let info = document.getElementById("productSelect").value;
        switch (info) {
          case "Telefonía fija":
            document.getElementById("productoModal").value = info;
            limpiarContenedor();
            opcionesFijo();
            modal.style.display = "block";
            break;

          case "Internet":
            document.getElementById("productoModal").value = info;
            limpiarContenedor();
            opcionesInternet();
            modal.style.display = "block";
            break;

          case "Movil":
            document.getElementById("productoModal").value = info;
            limpiarContenedor();
            opcionesMovil();
            modal.style.display = "block";
            break;

          case "Otros":
            document.getElementById("productoModal").value = info;
            limpiarContenedor();
            opcionesOtros();
            modal.style.display = "block";
            break;

          case "Elija producto":
            limpiarContenedor();
            break;
        }
      };

      // Obtén el elemento <span> que cierra el modal
      var span = document.getElementsByClassName("close")[0];

      // Cuando el usuario hace clic en <span> (x), cierra el modal
      span.onclick = function () {
        modal.style.display = "none";
      };

      // Cuando el usuario hace clic en cualquier lugar fuera del modal, cierra el modal
      window.onclick = function (event) {
        if (event.target == modal || event.target == modalPagos) {
          limpiarContenedor();
          modal.style.display = "none";
          modalPagos.style.display = "none";
        }
      };

      // modal de pagos
      let modalPagos = document.getElementById("modalPagos");

      document
        .getElementById("botonPagos")
        .addEventListener("click", function () {
          modalPagos.style.display = "block";
        });

      let cerrarPagos = document.getElementById("cerrarPagos");

      cerrarPagos.onclick = function () {
        modalPagos.style.display = "none";
      };

      function mostrarIban() {
        let contenedorIban = document.getElementById("contenedorIban");

        let domiciliacionBancaria = document.getElementById(
          "domiciliacionBancaria"
        );

        if (domiciliacionBancaria.checked) {
          contenedorIban.style.display = "block"; // Mostrar el div
        } else {
          contenedorIban.style.display = "none"; // Ocultar el
        }
      }
    </script>
    <script src="funcional.js"></script>
    <script src="fijo.js"></script>
    <script src="internet.js"></script>
    <script src="movil.js"></script>
    <script src="otros.js"></script>
    <script src="tablas.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
