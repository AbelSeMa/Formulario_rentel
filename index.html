<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formulario</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link
      rel="icon"
      type="image/x-icon"
      href="/rentelfavicon-removebg-preview.png"
    />
    <link rel="stylesheet" href="bootstrap.min.css" />
    <!-- <link rel="stylesheet" href="style.css"> -->
    <script src="validacion_completa.js" defer></script>
    <script src="validacion_campos.js" defer></script>
    <script src="modal.js" defer></script>
  </head>

  <body>
    <div class="card col-md-auto text-left mx-auto container-sm shadow">
      <div class="card-body">
        <div class="col-md-7 mx-auto">
          <img
            src="Logo-Rentel-grande.jpg"
            class="img-fluid"
            alt="Responsive image"
          />
        </div>
        <div id="pintar_cliente">
          <form name="formulario_Cliente" id="myForm" action="productos.html">
            <h2 class="text-center font-weight-bold">Comercial</h2>

            <div id="divComercial" class="d-flex justify-content-center">
              <select class="form-select-sm" id="comercial" name="comercial">
                <option value="">Seleccione un comercial</option>
                <option value="Manuel Suarez">Manuel Suárez</option>
                <option value="Manuel Perez">Antonio Perez</option>
              </select>
            </div>

            <div
              id="errorComercial"
              class="text-danger"
              style="font-size: 14px"
              hidden
            >
              Seleccione un comercial.
            </div>
            <div id="formulario1" hidden>
              <fieldset>
                <h2 class="text-center font-weight-bold mb-4">
                  Datos de Cliente
                </h2>
                <div class="row">
                  <div id="divNombre" class="col-sm-4">
                    <label class="form-label" for="nombre">Nombre*</label>
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="nombre"
                      name="Nombre"
                      placeholder="Nombre"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del nombre erróneo.
                    </div>
                  </div>

                  <div id="divApellido1" class="col-sm-4">
                    <label
                      class="form-label"
                      for="apellido1"
                      id="labelApellido1"
                      >Primer apellido*</label
                    >
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="apellido1"
                      name="apellido1"
                      placeholder="Primer apellido"
                    />

                    <div class="invalid-feedback mb-3">
                      Formato del apellido erróneo.
                    </div>
                  </div>

                  <div id="divApellido2" class="col-sm-4">
                    <label class="form-label" for="apellido2"
                      >Segundo apellido*</label
                    >
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="apellido2"
                      name="apellido2"
                      placeholder="Segundo apellido"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del apellido erróneo.
                    </div>

                    <input type="text" id="apellidos" name="Apellidos" hidden />
                  </div>
                </div>

                <div class="row">
                  <div class="col-6">
                    <label class="form-label" for="sexo">Sexo</label>
                    <select class="form-select mb-3" id="sexo" name="sexo">
                      <option value="Hombre">Hombre</option>
                      <option value="Mujer">Mujer</option>
                    </select>
                  </div>

                  <div id="divFechaNacimiento" class="col-6">
                    <label
                      class="form-label"
                      for="fechaNacimiento"
                      id="labelFechaNacimiento"
                      >Fecha de Nacimiento</label
                    >
                    <input
                      class="form-control mb-3"
                      type="date"
                      id="fechaNacimiento"
                      name="fechaNacimiento"
                      required
                    />
                    <div class="invalid-feedback mb-3">Fecha errónea.</div>
                  </div>
                </div>

                <div class="row">
                  <div id="divDni" class="col-6">
                    <label class="form-label" for="dni">DNI*</label>
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="dni"
                      name="DNI/CIF"
                      placeholder="DNI"
                      minlength="9"
                      maxlength="9"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del DNI erróneo.
                    </div>
                  </div>

                  <div id="divCorreo" class="col-6">
                    <label class="form-label" for="correo"
                      >Correo electrónico</label
                    >
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="correo"
                      name="Correo electrónico"
                      placeholder="correo@correo"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del correo electrónico erróneo.
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div id="divTlfFijo" class="col-6">
                    <label class="form-label" for="telefonoFijo"
                      >Teléfono Fijo</label
                    >
                    <input
                      class="form-control mb-3"
                      type="tel"
                      id="telefonoFijo"
                      name="Teléfono fijo"
                      minlength="9"
                      maxlength="9"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del Tlf fijo erróneo.
                    </div>
                  </div>

                  <div id="divTlfMovil" class="col-6">
                    <label class="form-label" for="telefonoMovil"
                      >Teléfono Móvil*</label
                    >
                    <input
                      class="form-control mb-3"
                      type="tel"
                      id="telefonoMovil"
                      name="Teléfono móvil"
                      minlength="9"
                      maxlength="9"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del Tlf móvil erróneo.
                    </div>
                  </div>
                </div>

                <div>
                  <input
                    type="text"
                    name="pais"
                    id="pais"
                    value="españa"
                    hidden
                  />
                  <input
                    type="text"
                    name="Provincia"
                    id="provincia"
                    value="Cadiz"
                    hidden
                  />
                </div>

                <div class="row">
                  <div class="col-sm-4">
                    <label class="form-label" for="poblacion">Población*</label>
                    <select
                      class="form-select mb-3"
                      id="poblacion"
                      name="Población"
                    >
                      <option value="Sanlúcar de Barrameda">
                        Sanlúcar de Barrameda
                      </option>
                      <option value="Chipiona">Chipiona</option>
                    </select>
                  </div>

                  <div id="divDireccion" class="col-sm-4">
                    <label class="form-label" for="direccion">Dirección*</label>
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="direccion"
                      name="Dirección"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato de la dirección erróneo.
                    </div>
                  </div>

                  <div id="divCodPostal" class="col-sm-4">
                    <label class="form-label" for="codigoPostal"
                      >Código Postal*</label
                    >
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="codigoPostal"
                      name="Código postal"
                      minlength="5"
                      maxlength="5"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del código postal erróneo.
                    </div>
                  </div>
                </div>

                <div>
                  <label class="btn btn-primary btn-sm" for="delanteDNI"
                    >Subir imagen</label
                  >
                  <label class="form-label">DNI por delante</label>
                  <input
                    class="form-control mb-3"
                    type="file"
                    id="delanteDNI"
                    name="Foto DNI cara principal"
                    hidden
                  />
                </div>

                <div>
                  <label class="btn btn-primary btn-sm" for="detrasDNI"
                    >Subir imagen</label
                  >
                  <label for="detrasDNI">DNI por detrás</label>
                  <input
                    type="file"
                    id="detrasDNI"
                    name="Foto DNI reverso"
                    hidden
                  /><br />
                </div>

                <br />

                <p>¿Quieres usar los mismos datos para la facturacion?</p>
                <input
                  class="form-check-input"
                  type="radio"
                  name="datos"
                  id="mismosDatosSi"
                  onclick="mostrarEnviar()"
                />
                <label for="mismosDatosSi">Sí</label> <br />
                <input
                  class="form-check-input mb-3"
                  type="radio"
                  name="datos"
                  id="mismosDatosNo"
                />
                <label for="mismosDatosNo">No</label>

                <br />
                <div
                  id="errorDatos"
                  class="text-danger"
                  style="font-size: 14px"
                  hidden
                >
                  Seleccione una opción por favor.
                </div>
                <br />
                <button
                  class="btn btn-primary btn-sm"
                  type="button"
                  onclick="mostrarFormulario(2)"
                >
                  Siguiente
                </button>

                <input
                  class="btn btn-primary btn-sm"
                  type="button"
                  id="enviarForm1"
                  value="Contratar"
                  hidden
                />
              </fieldset>
            </div>

            <div id="formulario2" style="display: none">
              <fieldset>
                <h2 class="text-center font-weight-bold mb-4">
                  Datos de Cliente Facturación
                </h2>

                <div class="row">
                  <div id="divNombreFac" class="col-sm-4">
                    <label class="form-label" for="nombreFac">Nombre*</label>
                    <br />
                    <span id="errorNombreFac" class="text-danger"></span>
                    <input
                      class="form-control"
                      type="text"
                      id="nombreFac"
                      name="Nombre Fac."
                      placeholder="Nombre"
                    /><br />
                    <div class="invalid-feedback mb-3">
                      Formato del nombre erróneo.
                    </div>
                  </div>

                  <div id="divApellido1Fac" class="col-sm-4">
                    <label class="form-label" for="apellido1Fac"
                      >Primer apellido*</label
                    >
                    <span id="errorApellido1Fac" class="text-danger"></span>
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="apellido1Fac"
                      name="apellido1Fac"
                      placeholder="Primer apellido"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del nombre erróneo.
                    </div>
                  </div>

                  <div id="divApellido2Fac" class="col-sm-4">
                    <label class="form-label" for="apellido2Fac"
                      >Segundo apellido*</label
                    >
                    <span id="errorApellido2Fac" class="text-danger"></span>
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="apellido2Fac"
                      name="apellido2Fac"
                      placeholder="Segundo apellido"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del nombre erróneo.
                    </div>

                    <input
                      type="text"
                      id="apellidosFac"
                      name="Apellidos Fac. "
                      hidden
                    />
                  </div>
                </div>

                <div class="row">
                  <div class="col-sm-6">
                    <label class="form-label" for="sexoFac">Sexo</label>
                    <select
                      class="form-select mb-3"
                      id="sexoFac"
                      name="sexoFac"
                    >
                      <option value="Hombre">Hombre</option>
                      <option value="Mujer">Mujer</option>
                    </select>
                  </div>

                  <div id="divFechaNacimientoFac" class="col-sm-6">
                    <label class="form-label" for="fechaNacimientoFac"
                      >Fecha de Nacimiento</label
                    >
                    <input
                      class="form-control mb-3"
                      type="date"
                      id="fechaNacimientoFac"
                      name="fechaNacimientoFac"
                    />
                    <div class="invalid-feedback mb-3">Fecha errónea.</div>
                  </div>
                </div>

                <div class="row">
                  <div id="divDniFac" class="col-sm-6">
                    <label class="form-label" for="dniFac">DNI*</label>
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="dniFac"
                      name="DNI/CIF  Fac. "
                      placeholder="DNI"
                      maxlength="9"
                      minlength="9"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del DNI erróneo.
                    </div>
                  </div>

                  <div id="divCorreoFac" class="col-sm-6">
                    <label class="form-label" for="correoFac"
                      >Correo electrónico</label
                    >
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="correoFac"
                      name="Correo electrónico Fac. "
                      placeholder="correo@correo"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del correo erróneo.
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div id="divTelefonoFijoFac" class="col-sm-6">
                    <label class="form-label" for="telefonoFijoFac"
                      >Teléfono Fijo</label
                    >
                    <input
                      class="form-control mb-3"
                      type="tel"
                      id="telefonoFijoFac"
                      name="Teléfono fijo Fac. "
                      maxlength="9"
                      minlength="9"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del telefono fijo erróneo.
                    </div>
                  </div>

                  <div id="divTelefonoMovilFac" class="col-sm-6">
                    <label class="form-label" for="telefonoMovilFac"
                      >Teléfono Móvil*</label
                    >
                    <input
                      class="form-control mb-3"
                      type="tel"
                      id="telefonoMovilFac"
                      name="Teléfono móvil Fac. "
                      maxlength="9"
                      minlength="9"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del telefono móvil erróneo.
                    </div>
                  </div>
                </div>

                <div>
                  <input
                    type="text"
                    name="paisFac"
                    id="paisFac"
                    value="españa"
                    hidden
                  />
                  <input
                    type="text"
                    name="Provincia Fac. "
                    id="provinciaFac"
                    value="Cadiz"
                    hidden
                  />
                </div>

                <div class="row">
                  <div class="col-sm-4">
                    <label class="form-label" for="poblacionFacFalsa"
                      >Población*</label
                    >
                    <select class="form-select mb-3" id="poblacionFacFalsa">
                      <option value="Sanlúcar de Barrameda" selected="selected">
                        Sanlúcar de Barrameda
                      </option>
                      <option value="Chipiona">Chipiona</option>
                    </select>
                  </div>

                  <input
                    type="text"
                    id="poblacionFac"
                    name="Población Fac. "
                    hidden
                  />

                  <div id="divDireccionFac" class="col-sm-4">
                    <label class="form-label" for="direccionFac"
                      >Dirección*</label
                    >
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="direccionFac"
                      name="Dirección Fac. "
                    />
                    <div class="invalid-feedback mb-3">
                      Formato de la dirección erróna.
                    </div>
                  </div>

                  <div id="divCodigoPostalFac" class="col-sm-4">
                    <label class="form-label" for="codigoPostalFac"
                      >Código Postal*</label
                    >
                    <input
                      class="form-control mb-3"
                      minlength="5"
                      maxlength="5"
                      type="text"
                      id="codigoPostalFac"
                      name="Código postal Fac. "
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del código postal erróneo.
                    </div>
                  </div>
                </div>

                <div>
                  <label class="btn btn-primary btn-sm" for="delanteDNIFac"
                    >Subir imagen</label
                  >
                  <label class="form-label mb-3">DNI por delante</label>
                  <input
                    class="form-control"
                    type="file"
                    id="delanteDNIFac"
                    name="delanteDNIFac"
                    hidden
                  />
                </div>

                <div>
                  <label class="btn btn-primary btn-sm" for="detrasDNIFac"
                    >Subir imagen</label
                  >
                  <label class="form-label mb-3">DNI por detrás</label>
                  <input
                    type="file"
                    id="detrasDNIFac"
                    name="detrasDNIFac"
                    hidden
                  />
                </div>
              </fieldset>

              <button
                class="btn btn-primary btn-sm"
                type="button"
                onclick="mostrarFormulario(1)"
              >
                Anterior
              </button>
              <button
                class="btn btn-primary btn-sm"
                type="button"
                onclick="mostrarFormulario(3);"
              >
                Siguiente
              </button>
            </div>

            <div id="formulario3" style="display: none">
              <fieldset>
                <h2 class="text-center font-weight-bold mb-4">
                  Notificaciones del cliente
                </h2>

                <div class="row">
                  <div id="divNombreNoti" class="col-sm-4">
                    <label class="form-label" for="nombreNoti">Nombre*</label>
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="nombreNoti"
                      name="Nombre Contacto"
                      placeholder="Nombre"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del nombre erróneo.
                    </div>
                  </div>

                  <div id="divApellido1Noti" class="col-sm-4">
                    <label class="form-label" for="apellido1Noti"
                      >Primer pellido*</label
                    >
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="apellido1Noti"
                      name="apellido1Noti"
                      placeholder="Primer pellido"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del apellido erróneo.
                    </div>
                  </div>

                  <div id="divApellido2Noti" class="col-sm-4">
                    <label class="form-label" for="apellido2Noti"
                      >Segundo pellido*</label
                    >
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="apellido2Noti"
                      name="apellido2Noti"
                      placeholder="Segundo pellido"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del apellido erróneo.
                    </div>

                    <input
                      type="text"
                      id="apellidosNoti"
                      name="Apellido contacto"
                      hidden
                    />
                  </div>
                </div>

                <div class="row">
                  <div id="divCorreoNoti" class="col-sm-4">
                    <label class="form-label" for="correoNoti"
                      >Correo electrónico</label
                    >
                    <input
                      class="form-control mb-3"
                      type="text"
                      id="correoNoti"
                      name="Correo electrónico contacto"
                      placeholder="correo@correo"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del correo erróneo.
                    </div>
                  </div>

                  <div id="divTelefonoFijoNoti" class="col-sm-4">
                    <label class="form-label" for="telefonoFijoNoti"
                      >Teléfono Fijo</label
                    >
                    <input
                      class="form-control mb-3"
                      type="tel"
                      minlength="9"
                      maxlength="9"
                      id="telefonoFijoNoti"
                      name="Teléfono fijo contacto"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del teléfono fijo erróneo.
                    </div>
                  </div>

                  <div id="divTelefonoMovilNoti" class="col-sm-4">
                    <label class="form-label" for="telefonoMovilNoti"
                      >Teléfono Móvil *</label
                    >
                    <input
                      class="form-control mb-3"
                      type="tel"
                      minlength="9"
                      maxlength="9"
                      id="telefonoMovilNoti"
                      name="Teléfono móvil contacto"
                    />
                    <div class="invalid-feedback mb-3">
                      Formato del teléfono móvil erróneo.
                    </div>
                  </div>
                </div>
              </fieldset>
              <button
                class="btn btn-primary btn-sm"
                type="button"
                onclick="mostrarFormulario(2)"
              >
                Anterior
              </button>
              <input
                class="btn btn-primary btn-sm"
                type="button"
                id="enviarForm"
                value="Contratar"
                hidden
              />
            </div>

            <div class="modal" id="myModal">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title">
                      ¿Está seguro de que estos son los datos correctos?
                    </h5>
                    <button
                      id="cerrarModal"
                      type="button"
                      class="btn-close"
                      data-bs-dismiss="modal"
                      aria-label="Close"
                    >
                      <span aria-hidden="true"></span>
                    </button>
                  </div>
                  <div class="modal-footer">
                    <button
                      type="submit"
                      class="btn btn-primary btn-sm"
                      id=""
                      onclick="validarFormulario(event)"
                    >
                      Si
                    </button>
                    <button
                      type="button"
                      class="btn btn-danger btn-sm"
                      data-bs-dismiss="modal"
                      id="noDatos"
                    >
                      No
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script>
          // Cuando se carga la página, verifica si hay datos en sessionStorage
    $(document).ready(function () {
      if (sessionStorage.getItem("cliente")) {
        var datosCliente = JSON.parse(sessionStorage.getItem("cliente"));
        if (Object.keys(datosCliente).length !== 0) {
          // Rellena los campos del formulario con los datos del cliente
          $("#nombre").val(datosCliente.Nombre);
          $("#apellido1").val(datosCliente.apellido1);
          // Asegúrate de hacer esto para todos los campos del formulario
        }
      }

      $("form").submit(function (e) {
      // Redirige al usuario a la página de producto
      window.location.href = "/productos.html";
    });
  });
    </script>
    <script>
      var check = false;
      function mostrarFormulario(numeroFormulario) {
        var radio = document.getElementById("mismosDatosSi");
        // Oculta todos los formularios
        for (let i = 1; i <= 3; i++) {
          document.getElementById(`formulario${i}`).style.display = "none";
        }

        document.getElementById(`formulario${numeroFormulario}`).style.display =
          "block";

        if (numeroFormulario == 3) {
          document.getElementById("enviarForm").removeAttribute("hidden");
          cambiarCheck();
        }
      }

      function mostrarEnviar() {
        check = true;
        document.getElementById("enviarForm1").removeAttribute("hidden");
      }

      function cambiarCheck() {
        var check = false;
      }
      /*       document
        .getElementById("domiciliacionBancaria")
        .addEventListener("click", () => {
          document.getElementById("contenedorIban").innerHTML = "";
          document.getElementById("contenedorIban").innerHTML =
            '<input class="form-control" type="text" minlength="4" maxlength="4" name="primero" id="primero" placeholder="Iban" value="ES"><input class="form-control" type="text" minlength="4" maxlength="4" name="entidad" id="segundo" placeholder="Entidad"><input class="form-control" type="text" minlength="4" maxlength="4" name="sucursal" id="tercero" placeholder="Sucursal"><input class="form-control" type="text" minlength="2" maxlength="2" name="dc" id="cuarto" placeholder="DC"><input class="form-control" type="text" minlength="10" maxlength="10" name="nCuenta" id="quinto"placeholder="Numero de cuenta"><br></span>';
          document.getElementById("inputIban").innerHTML =
            '<input type="text" name="Iban" id="IbanOculto" hidden>';
        }); */
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
