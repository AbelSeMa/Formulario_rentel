<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario</title>
    <link rel="stylesheet" href="bootstrap.min.css">
    <script src="validacion_completa.js"></script>
    <script src="validacion_campos.js"></script>
</head>

<body>
    <div class="card col-md-4 mt-4 text-left mx-auto bg-white shadow">
        <div class="card-body">
        <img src="Logo-Rentel-grande.jpg" class="img-fluid" alt="Responsive image">

        <form name="formulario_Cliente" action="productos.html" id="formuCliente" enctype="multipart/formdata">
            <div id="formulario1" >
                <fieldset>
                    <h2 class="text-center font-weight-bold">Datos de Cliente</h2>

                    <div id="divNombre" class="">
                        <label class="form-label" for="nombre">Nombre*</label>
                        <input class="form-control mb-3" type="text" id="nombre" name="nombre" placeholder="Nombre">
                        <div class="invalid-feedback mb-3">Formato del nombre erróneo.</div>
                    </div>

                    <div id="divApellido1" class="">
                        <label class="form-label" for="apellido1" id="labelApellido1">Primer apellido*</label>
                        <input class="form-control mb-3" type="text" id="apellido1" name="apellido1"
                            placeholder="Primer apellido">
                        <div class="invalid-feedback mb-3">Formato del apellido erróneo.</div>
                    </div>

                    <div id="divApellido2" class="">
                        <label class="form-label" for="apellido2">Segundo apellido*</label>
                        <input class="form-control mb-3" type="text" id="apellido2" name="apellido2"
                            placeholder="Segundo apellido">
                        <div class="invalid-feedback mb-3">Formato del apellido erróneo.</div>
                    </div>

                    <div>
                        <label class="form-label" for="sexo">Sexo</label>
                        <select class="form-select mb-3" id="sexo" name="sexo">
                            <option value="Hombre">Hombre</option>
                            <option value="Mujer">Mujer</option>
                        </select>
                    </div>

                    <div id="divFechaNacimiento" class="">
                        <label class="form-label" for="fechaNacimiento" id="labelFechaNacimiento">Fecha de Nacimiento</label>
                        <input class="form-control mb-3" type="date" id="fechaNacimiento" name="fechaNacimiento" required>
                        <div class="invalid-feedback mb-3">Fecha errónea.</div>
                    </div>

                    <div id="divDni" class="">
                        <label class="form-label" for="dni"">DNI*</label>
                        <input class="form-control mb-3" type="text" id="dni" name="dni" placeholder="DNI" minlength="9"
                            maxlength="9">
                        <div class="invalid-feedback mb-3">Formato del DNI erróneo.</div>
                    </div>

                    <div id="divCorreo" class="">
                        <label class="form-label" for="correo">Correo electrónico</label>
                        <input class="form-control mb-3" type="text" id="correo" name="correo"
                            placeholder="correo@correo">
                        <div class="invalid-feedback mb-3">Formato del correo electrónico erróneo.</div>
                    </div>

                    <div id="divTlfFijo" class="">
                        <label class="form-label" for="telefonoFijo">Teléfono Fijo</label>
                        <input class="form-control mb-3" type="tel" id="telefonoFijo" name="telefonoFijo" minlength="9"
                            maxlength="9">
                        <div class="invalid-feedback mb-3">Formato del Tlf fijo erróneo.</div> 
                        </div>

                    <div id="divTlfMovil" class="">
                        <label class="form-label" for="telefonoMovil">Teléfono Móvil*</label>
                        <input class="form-control mb-3" type="tel" id="telefonoMovil" name="telefonoMovil" minlength="9"
                            maxlength="9">
                        <div class="invalid-feedback mb-3">Formato del Tlf móvil erróneo.</div> 
                    </div>

                    <div>
                        <input type="text" name="pais" id="pais" value="españa" hidden>
                        <input type="text" name="provincia" id="provincia" value="Cadiz" hidden>
                    </div>

                    <div>
                        <label class="form-label" for="poblacion">Población*</label>
                        <select class="form-select mb-3" id="poblacion" name="poblacion">
                            <option value="Sanlúcar_de_Barrameda">Sanlúcar de Barrameda</option>
                            <option value="Chipiona">Chipiona</option>
                        </select>
                    </div>

                    <div id="divDireccion" class="">
                        <label class="form-label" for="direccion">Dirección*</label>
                        <input class="form-control mb-3" type="text" id="direccion" name="direccion">
                        <div class="invalid-feedback mb-3">Formato de la dirección erróneo.</div> 

                    </div>

                    <div id="divCodPostal" class="">
                        <label class="form-label" for="codigoPostal">Código Postal*</label> 
                        <input class="form-control mb-3" type="text" id="codigoPostal" name="codigoPostal" minlength="5"
                            maxlength="5">
                        <div class="invalid-feedback mb-3">Formato del código postal erróneo.</div> 
                    </div>

                    <div>
                        <label class="btn btn-primary btn-sm" for="delanteDNI">Subir imagen</label>
                        <label class="form-label">DNI por delante</label> 
                        <input class="form-control mb-3" type="file" id="delanteDNI" name="delanteDNI" hidden>
                    </div>

                    <div>
                        <label class="btn btn-primary btn-sm" for="detrasDNI">Subir imagen</label>
                        <label for="detrasDNI">DNI por detrás</label>
                        <input  type="file" id="detrasDNI" name="detrasDNI" hidden><br>
                    </div>
                    <br>
                </fieldset>
                <p>¿Quieres usar los mismos datos para la facturacion?</p>
                <input class="form-check-input" type="radio" name="datos" id="mismosDatosSi" />
                <label for="mismosDatosSi">Sí</label> <br> 
                <input class="form-check-input mb-3" type="radio" name="datos" id="mismosDatosNo" checked />
                <label for="mismosDatosNo">No</label>
                <br>
                <button class="btn btn-primary btn-sm" type="button" onclick="mostrarFormulario(2)">Siguiente</button>
            </div>

            <div id="formulario2" style="display: none">

                <fieldset>
                    <h2 class="text-center font-weight-bold">Datos de Cliente Facturación</h2>


                    <div id="divNombreFac" class="">
                        <label class="form-label" for="nombreFac">Nombre*</label> <br>
                        <span id="errorNombreFac" class="text-danger"></span>
                        <input class="form-control" type="text" id="nombreFac" name="nombreFac"
                            placeholder="Nombre"><br>
                        <div class="invalid-feedback mb-3">Formato del nombre erróneo.</div> 
                    </div>


                    <div id="divApellido1Fac" class="">
                        <label class="form-label" for="apellido1Fac">Primer apellido*</label>
                        <span id="errorApellido1Fac" class="text-danger"></span>
                        <input class="form-control mb-3" type="text" id="apellido1Fac" name="apellido1Fac"
                            placeholder="Primer apellido">
                        <div class="invalid-feedback mb-3">Formato del nombre erróneo.</div> 
                    </div>

                    <div id="divApellido2Fac" class="">
                        <label class="form-label" for="apellido2Fac">Segundo apellido*</label>
                        <span id="errorApellido2Fac" class="text-danger"></span>
                        <input class="form-control mb-3" type="text" id="apellido2Fac" name="apellido2Fac"
                            placeholder="Segundo apellido">
                        <div class="invalid-feedback mb-3">Formato del nombre erróneo.</div> 
                        </div>
                    <div>
                        <label class="form-label" for="sexoFac">Sexo</label>
                        <select class="form-select mb-3" id="sexoFac" name="sexoFac">
                            <option value="Hombre">Hombre</option>
                            <option value="Mujer">Mujer</option>
                        </select>
                    </div>

                    <div id="divFechaNacimientoFac" class="">
                        <label class="form-label" for="fechaNacimientoFac">Fecha de Nacimiento</label>
                        <input class="form-control mb-3" type="date" id="fechaNacimientoFac" name="fechaNacimientoFac">
                        <div class="invalid-feedback mb-3">Fecha errónea.</div> 
                    </div>

                    <div id="divDniFac" class="">
                        <label class="form-label" for="dniFac">DNI*</label>
                        <input class="form-control mb-3" type="text" id="dniFac" name="dniFac" placeholder="DNI"
                            maxlength="9" minlength="9">
                        <div class="invalid-feedback mb-3">Formato del DNI erróneo.</div> 
                    </div>

                    <div id="divCorreoFac" class="">
                        <label class="form-label" for="correoFac">Correo electrónico</label>
                        <input class="form-control mb-3" type="text" id="correoFac" name="correoFac"
                            placeholder="correo@correo">
                        <div class="invalid-feedback mb-3">Formato del correo erróneo.</div> 
                    </div>

                    <div id="divTelefonoFijoFac" class="">
                        <label class="form-label" for="telefonoFijoFac">Teléfono Fijo</label>
                        <input class="form-control mb-3" type="tel" id="telefonoFijoFac" name="telefonoFijoFac"
                            maxlength="9" minlength="9">
                        <div class="invalid-feedback mb-3">Formato del telefono fijo erróneo.</div> 
                    </div>

                    <div id="divTelefonoMovilFac" class="">
                        <label class="form-label" for="telefonoMovilFac">Teléfono Móvil*</label>
                        <input class="form-control mb-3" type="tel" id="telefonoMovilFac" name="telefonoMovilFac"
                            maxlength="9" minlength="9">
                        <div class="invalid-feedback mb-3">Formato del telefono móvil erróneo.</div> 
                    </div>

                    <div>
                        <input type="text" name="pais" id="pais" value="españa" hidden>
                        <input type="text" name="provincia" id="provincia" value="Cadiz" hidden>
                    </div>

                    <div>
                        <label class="form-label" for="poblacionFac">Población*</label>
                        <select class="form-select mb-3" id="poblacionFac" name="poblacionFac">
                            <option value="Sanlúcar de Barrameda">Sanlúcar de Barrameda</option>
                            <option value="Chipiona">Chipiona</option>
                        </select>
                    </div>

                    <div id="divDireccionFac" class="">
                        <label class="form-label" for="direccionFac">Dirección*</label> 
                        <input class="form-control mb-3" type="text" id="direccionFac" name="direccionFac">
                        <div class="invalid-feedback mb-3">Formato de la dirección erróna.</div> 
                    </div>

                    <div id="divCodigoPostalFac" class="">
                        <label class="form-label" for="codigoPostalFac">Código Postal*</label> 
                        <input class="form-control mb-3" minlength="5" maxlength="5" type="text" id="codigoPostalFac"
                            name="codigoPostalFac">
                        <div class="invalid-feedback mb-3">Formato del código postal erróneo.</div> 
                    </div>

                    <div>
                        <label class="btn btn-primary btn-sm" for="delanteDNIFac">Subir imagen</label>
                        <label class="form-label mb-3">DNI por delante</label> 
                        <input class="form-control" type="file" id="delanteDNIFac" name="delanteDNIFac" hidden>
                    </div>

                    <div>
                        <label class="btn btn-primary btn-sm" for="detrasDNIFac">Subir imagen</label>
                        <label class="form-label mb-3">DNI por detrás</label> 
                        <input type="file" id="detrasDNIFac" name="detrasDNIFac" hidden>
                    </div>
                    
                </fieldset>

                <button class="btn btn-primary btn-sm" type="button" onclick="mostrarFormulario(1)">Anterior</button>
                <button class="btn btn-primary btn-sm" type="button" onclick="mostrarFormulario(3)">Siguiente</button>
            </div>

            <div id="formulario3" style="display: none">
                <fieldset>

                    <h2 class="text-center font-weight-bold">Notificaciones del cliente</h2>

                    <div id="divNombreNoti" class="">
                        <label class="form-label" for="nombreNoti">Nombre*</label>
                        <input class="form-control mb-3" type="text" id="nombreNoti" name="nombreNoti"
                            placeholder="Nombre">
                        <div class="invalid-feedback mb-3">Formato del nombre erróneo.</div> 
                    </div>

                    <div id="divApellido1Noti" class="">
                        <label class="form-label" for="apellido1Noti">Primer pellido*</label> 
                        <input class="form-control mb-3" type="text" id="apellido1Noti" name="apellido1Noti"
                            placeholder="Primer pellido">
                        <div class="invalid-feedback mb-3">Formato del apellido erróneo.</div> 
                    </div>

                    <div id="divApellido2Noti" class="">
                        <label class="form-label" for="apellido2Noti">Segundo pellido*</label> 
                        <input class="form-control mb-3" type="text" id="apellido2Noti" name="apellido2Noti"
                            placeholder="Segundo pellido">
                        <div class="invalid-feedback mb-3">Formato del apellido erróneo.</div> 
                    </div>

                    <div id="divCorreoNoti" class="">
                        <label class="form-label" for="correoNoti">Correo electrónico</label> 
                        <input class="form-control mb-3" type="text" id="correoNoti" name="correoNoti"
                            placeholder="correo@correo">
                        <div class="invalid-feedback mb-3">Formato del correo erróneo.</div> 
                    </div>

                    <div id="divTelefonoFijoNoti" class="">
                        <label class="form-label" for="telefonoFijoNoti">Teléfono Fijo *</label> 
                        <input class="form-control mb-3" type="tel" minlength="9" maxlength="9" id="telefonoFijoNoti"
                            name="telefonoFijoNoti">
                        <div class="invalid-feedback mb-3">Formato del teléfono fijo erróneo.</div> 
                    </div>

                    <div id="divTelefonoMovilNoti" class="">
                        <label class="form-label" for="telefonoMovilNoti">Teléfono Móvil *</label> 
                        <input class="form-control mb-3" type="tel" minlength="9" maxlength="9" id="telefonoMovilNoti"
                            name="telefonoMovilNoti">
                        <div class="invalid-feedback mb-3">Formato del teléfono móvil erróneo.</div> 
                    </div>
                </fieldset>
                <button class="btn btn-primary btn-sm" type="button" onclick="mostrarFormulario(2)">Anterior</button>
                <button class="btn btn-primary btn-sm" type="button" onclick="mostrarFormulario(4)">Siguiente</button>
            </div>

            <div id="formulario4" style="display: none">
                <h2 class="text-center font-weight-bold">Forma de pago</h2>
                <p class="form-check-label mb-3">¿Elija que método de pago desea usar?</p>
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="efectivo"
                    onclick="limpiar('contenedorIban')" required>
                <label class="form-check-label" for="efectivo">efectivo</label> <br>

                <input class="form-check-input" type="radio" name="flexRadioDefault" id="Transferencia"
                    onclick="limpiar('contenedorIban')">
                <label class="form-check-label" for="Transferencia">Transferencia bancaria</label> <br>

                <input class="form-check-input" type="radio" name="flexRadioDefault" id="tpv"
                    onclick="limpiar('contenedorIban')">
                <label class="form-check-label" for="tpv">TPV</label> <br>

                <input class="form-check-input" type="radio" name="flexRadioDefault" id="domiciliacionBancaria"
                    onclick="mostrarIban()">
                <label class="form-check-label" for="domiciliacionBancaria">domiciliacion Bancaria</label> <br>
                <br>
                <div id="contenedorIban" style="display: none">
                </div>
                <br>

                <button class="btn btn-primary btn-sm" id="botonAnterior" type="button"
                    onclick="mostrarFormulario(3)">Anterior</button>
                <button class="btn btn-primary btn-sm" id="directo1" type="button" onclick="mostrarFormulario(1)"
                    hidden> Volver </button>
            </div>
            <br>
            <input class="btn btn-primary btn-sm" type="submit" id="enviarForm" onclick="validarFormulario(event)"
                hidden>
        </form>
        </div>
    </div>

    <script>
        var solo_cliente = false;
        function mostrarFormulario(numeroFormulario) {
            var radio = document.getElementById("mismosDatosSi");
            // Oculta todos los formularios
            for (let i = 1; i <= 4; i++) {
                document.getElementById(`formulario${i}`).style.display = "none";
            }

            // Muestra el formulario seleccionado
            if (radio.checked) {
                document.getElementById("formulario4").style.display = "block";
                document.getElementById('botonAnterior').setAttribute('hidden', '')
                document.getElementById('directo1').removeAttribute('hidden');
                radio.checked = false;
                solo_cliente = true;
            } else {
                document.getElementById('directo1').setAttribute('hidden', '')
                document.getElementById('botonAnterior').removeAttribute('hidden');
                document.getElementById(
                    `formulario${numeroFormulario}`
                ).style.display = "block";
                // Configura el botón de atrás para volver al formulario anterior
                const botonAnterior = document.getElementById("botonAnterior");
                botonAnterior.onclick = function () {
                    mostrarFormulario(numeroFormulario - 1);
                };

                solo_cliente = false;

            }
            // Verifica el estado de "formulario4" y muestra/oculta el botón de enviar
            if (document.getElementById("formulario4").style.display === "block") {
                document.getElementById("enviarForm").removeAttribute("hidden");
            } else {
                document.getElementById("enviarForm").setAttribute("hidden", "true");
            }
        }

        document.getElementById('domiciliacionBancaria').addEventListener('click', () => {
            document.getElementById('contenedorIban').innerHTML = '';
            document.getElementById('contenedorIban').innerHTML = '<input class="form-control" type="text" minlength="4" maxlength="4" name="IBAN" id="primero" placeholder="Iban" value="ES"><input class="form-control" type="text" minlength="4" maxlength="4" name="entidad" id="segundo" placeholder="Entidad"><input class="form-control" type="text" minlength="4" maxlength="4" name="sucursal" id="tercero" placeholder="Sucursal"><input class="form-control" type="text" minlength="2" maxlength="2" name="dc" id="cuarto" placeholder="DC"><input class="form-control" type="text" minlength="10" maxlength="10" name="nCuenta" id="quinto"placeholder="Numero de cuenta"><br><span id="errorIban" class="text-danger"></span>';

        }) 
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>

</html>